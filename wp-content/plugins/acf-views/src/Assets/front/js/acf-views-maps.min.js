(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(r=a.key,i=void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,n||"default");if("object"!==t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(r,"string"),"symbol"===t(i)?i:String(i)),a)}var r,i}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var s=function(){function t(e){a(this,t),this.element=e,this.map=null,this.mapMarkers=[],this.isZoomSet=!1}return i(t,[{key:"readMarkers",value:function(){var t=this;e(this.element.children).forEach((function(e){var n=e.dataset.hasOwnProperty("lat")?e.dataset.lat:"0",o=e.dataset.hasOwnProperty("lng")?e.dataset.lng:"0",a=e.dataset.hasOwnProperty("icon")?e.dataset.icon:"",r=e.dataset.hasOwnProperty("title")?e.dataset.title:"";t.mapMarkers.push({lat:parseFloat(n),lng:parseFloat(o),icon:a,iconTitle:r}),e.remove()}))}},{key:"createMap",value:function(){this.isZoomSet=this.element.dataset.hasOwnProperty("zoom")&&!!parseInt(this.element.dataset.zoom);var t={zoom:parseInt(this.element.dataset.hasOwnProperty("zoom")?this.element.dataset.zoom:"16"),mapTypeId:window.google.maps.MapTypeId.ROADMAP};this.map=new window.google.maps.Map(this.element,t)}},{key:"createMarkers",value:function(){var t=this;this.mapMarkers.forEach((function(e){var n={position:{lat:e.lat,lng:e.lng},map:t.map};e.icon&&(n.icon=e.icon),e.iconTitle&&(n.title=e.iconTitle),new window.google.maps.Marker(n)}))}},{key:"centerMap",value:function(){var t=new window.google.maps.LatLngBounds;if(this.mapMarkers.length)this.mapMarkers.forEach((function(e){t.extend({lat:e.lat,lng:e.lng})}));else{var e=this.element.dataset.centerLat,n=this.element.dataset.centerLng;(n||e)&&t.extend({lat:parseFloat(e),lng:parseFloat(n)})}this.map.setCenter(t.getCenter()),this.mapMarkers.length>1&&!this.isZoomSet&&this.map.fitBounds(t)}},{key:"init",value:function(){window.hasOwnProperty("google")&&window.google.hasOwnProperty("maps")&&window.google.maps.hasOwnProperty("Map")&&window.google.maps.hasOwnProperty("Marker")&&window.google.maps.hasOwnProperty("LatLngBounds")&&window.google.maps.hasOwnProperty("MapTypeId")&&window.google.maps.MapTypeId.hasOwnProperty("ROADMAP")?(this.readMarkers(),this.createMap(),this.createMarkers(),this.centerMap()):console.log("Advanced Views : Google maps isn't available")}}]),t}();new(function(){function t(){a(this,t),this.isMapsLoaded=!1,this.mapsToInit=[],this.maps=window.acfViewsMaps||[],this.maps?(window.acfViewsGoogleMaps=this.mapsLoadedCallback.bind(this),"loading"!==document.readyState?this.setup():window.addEventListener("DOMContentLoaded",this.setup.bind(this))):console.log("Advanced Views: Galleries data is missing")}return i(t,[{key:"setup",value:function(){var t=this;new MutationObserver((function(e,o){var a,r=function(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==o.return||o.return()}finally{if(l)throw i}}}}(e);try{for(r.s();!(a=r.n()).done;){a.value.addedNodes.forEach((function(e){t.addListeners(e)}))}}catch(t){r.e(t)}finally{r.f()}})).observe(document.body,{childList:!0,subtree:!0}),this.addListeners(document.body)}},{key:"mapsLoadedCallback",value:function(){this.isMapsLoaded=!0,this.mapsToInit.forEach((function(t){t.init()})),this.mapsToInit=[]}},{key:"addListeners",value:function(t){var e=this;Node.ELEMENT_NODE===t.nodeType&&this.maps.forEach((function(n){t.querySelectorAll(n).forEach((function(t){var n=new s(t);e.isMapsLoaded?n.init():e.mapsToInit.push(n)}))}))}}]),t}())})();